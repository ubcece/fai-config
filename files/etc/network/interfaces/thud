# /etc/network/interfaces -- configuration file for ifup(8), ifdown(8)

# loopback interface
auto lo
iface lo inet loopback
  up  ebtables -P FORWARD DROP
  up  ebtables -F FORWARD
  up  ebtables -A FORWARD -p IPv4 -j ACCEPT
  up  ebtables -A FORWARD -p ARP -j ACCEPT

# external interface (Intel Pro 1000 SX)
auto eth0
iface eth0 inet static
  address 169.254.1.1
  netmask 255.255.0.0
  up   ip addr del 169.254.1.1/16 dev eth0

# external interface - EECE01-MANLAN thudvpn.ece.ubc.ca
auto vlan217
iface vlan217 inet static
  vlan_raw_device eth0
  address 142.103.106.248
  netmask 255.255.255.192
  network 142.103.106.192
  broadcast 142.103.106.255

# internal interface (Intel Pro 1000 SX)
auto eth1
iface eth1 inet static
  address 169.254.1.1
  netmask 255.255.0.0
  up   ip addr del 169.254.1.1/16 dev eth1

# internal interface - EECE01-NANO
auto vlan70
iface vlan70 inet static
  vlan_raw_device eth1
  address 169.254.1.1
  netmask 255.255.0.0
  up   ip addr del 169.254.1.1/16 dev vlan70

auto br70
iface br70 inet static
  address 169.254.1.1
  netmask 255.255.0.0
  bridge_ports vlan70
  bridge_stp 0
  bridge_fd 0
  bridge_hello 0
  up   ip addr del 169.254.1.1/16 dev br70
# note: additional bridge interfaces added by vtun

# internal interface - EECE01-MINA
auto vlan218
iface vlan218 inet static
  vlan_raw_device eth1
  address 169.254.1.1
  netmask 255.255.0.0
  up   ip addr del 169.254.1.1/16 dev vlan218

auto br218
iface br218 inet static
  address 169.254.1.1
  netmask 255.255.0.0
  bridge_ports vlan218
  bridge_stp 0
  bridge_fd 0
  bridge_hello 0
  up   ip addr del 169.254.1.1/16 dev br218
# note: additional bridge interfaces added by vtun

# internal interface - EECE - EECE01-CORO
auto vlan1395
iface vlan1395 inet static
  vlan_raw_device eth1
  address 169.254.1.1
  netmask 255.255.0.0
  up   ip addr del 169.254.1.1/16 dev vlan1395

auto br1395
iface br1395 inet static
  address 169.254.1.1
  netmask 255.255.0.0
  bridge_ports vlan1395
  bridge_stp 0
  bridge_fd 0
  bridge_hello 0
  up   ip addr del 169.254.1.1/16 dev br1395
# note: additional bridge interfaces added by openvpn

# thud service interface (Intel Pro1000 TX)
auto eth2
iface eth2 inet dhcp
